<div class="contain" [ngClass]="{'actived' : this.statusPopup}">
  <div class="card">
    <div class="top">
      <div class="title">
        <span>{{ this.tournamentInformation?.tournamentName }}</span>
        <div>
          <svg width="8" height="18" viewBox="0 0 8 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.789062 4.14844C0.789062 3.55469 0.932292 3.01562 1.21875 2.53125C1.51042 2.04167 1.89844 1.65104 2.38281 1.35938C2.86719 1.06771 3.40365 0.921875 3.99219 0.921875C4.59115 0.921875 5.13281 1.06771 5.61719 1.35938C6.10156 1.65104 6.48698 2.04167 6.77344 2.53125C7.0599 3.01562 7.20312 3.55469 7.20312 4.14844C7.20312 4.63802 7.10156 5.09375 6.89844 5.51562C6.70052 5.93229 6.42448 6.29167 6.07031 6.59375C5.72135 6.89062 5.32292 7.10156 4.875 7.22656V14.6484C4.875 15.1484 4.84375 15.6042 4.78125 16.0156C4.72396 16.4271 4.64844 16.7786 4.55469 17.0703C4.46615 17.3672 4.36979 17.5938 4.26562 17.75C4.16667 17.9115 4.07552 17.9922 3.99219 17.9922C3.90885 17.9922 3.81771 17.9115 3.71875 17.75C3.61979 17.5885 3.52344 17.3594 3.42969 17.0625C3.33594 16.7708 3.25781 16.4193 3.19531 16.0078C3.13802 15.6016 3.10938 15.1484 3.10938 14.6484V7.22656C2.66146 7.10156 2.26302 6.89062 1.91406 6.59375C1.5651 6.29167 1.28906 5.93229 1.08594 5.51562C0.888021 5.09375 0.789062 4.63802 0.789062 4.14844ZM3.07812 4.32812C3.38021 4.32812 3.63802 4.21875 3.85156 4C4.07031 3.78125 4.17969 3.52344 4.17969 3.22656C4.17969 2.92969 4.07031 2.67448 3.85156 2.46094C3.63802 2.24219 3.38021 2.13281 3.07812 2.13281C2.78646 2.13281 2.53125 2.24219 2.3125 2.46094C2.09375 2.67448 1.98438 2.92969 1.98438 3.22656C1.98438 3.52344 2.09375 3.78125 2.3125 4C2.53125 4.21875 2.78646 4.32812 3.07812 4.32812Z" fill="#5398FF"/>
          </svg>
          <span>{{ this.tournamentInformation?.location }}</span>
        </div>
      </div>
      <button type="button" (click)="this.closePopup()" class="closeIconButton">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.921875 13.4453C0.791667 13.3151 0.705729 13.1641 0.664062 12.9922C0.622396 12.8203 0.622396 12.6484 0.664062 12.4766C0.705729 12.3047 0.789062 12.1562 0.914062 12.0312L5.57031 7.36719L0.914062 2.71094C0.789062 2.59115 0.705729 2.44531 0.664062 2.27344C0.627604 2.09635 0.627604 1.92188 0.664062 1.75C0.705729 1.57812 0.791667 1.42708 0.921875 1.29688C1.04688 1.16667 1.19531 1.08073 1.36719 1.03906C1.54427 0.997396 1.71875 0.997396 1.89062 1.03906C2.06771 1.08073 2.21875 1.16406 2.34375 1.28906L7 5.94531L11.6562 1.28906C11.7812 1.16406 11.9297 1.08073 12.1016 1.03906C12.2734 0.997396 12.4453 0.997396 12.6172 1.03906C12.7891 1.08073 12.9401 1.16927 13.0703 1.30469C13.2005 1.42969 13.2865 1.57812 13.3281 1.75C13.375 1.92188 13.375 2.09375 13.3281 2.26562C13.2865 2.4375 13.2031 2.58594 13.0781 2.71094L8.42969 7.36719L13.0781 12.0312C13.2031 12.1562 13.2865 12.3047 13.3281 12.4766C13.3698 12.6484 13.3698 12.8203 13.3281 12.9922C13.2865 13.1641 13.2005 13.3151 13.0703 13.4453C12.9401 13.5755 12.7891 13.6615 12.6172 13.7031C12.4453 13.7448 12.2734 13.7448 12.1016 13.7031C11.9297 13.6615 11.7812 13.5781 11.6562 13.4531L7 8.79688L2.34375 13.4531C2.21875 13.5781 2.07031 13.6615 1.89844 13.7031C1.72656 13.7448 1.55208 13.7448 1.375 13.7031C1.20312 13.6615 1.05208 13.5755 0.921875 13.4453Z" fill="black"/>
        </svg>
      </button>
    </div>
    <div class="bottom">
      <div class="information">
        <div class="top">
          @if (this.tournamentInformation?.status == 'Upcoming'){
            <div class="status waiting">
              <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle class="fill" cx="6.5" cy="6.5" r="3.5" fill="#FFBB37"/>
                <circle class="stroke" cx="6.5" cy="6.5" r="5" stroke="#FFBB37" stroke-opacity="0.5" stroke-width="3"/>
              </svg>
              <span>Inscription ouverte</span>
            </div>
          } @else if (this.tournamentInformation?.status == 'Ongoing'){
            <div class="status comming">
              <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle class="fill" cx="6.5" cy="6.5" r="3.5" fill="#FFBB37"/>
                <circle class="stroke" cx="6.5" cy="6.5" r="5" stroke="#FFBB37" stroke-opacity="0.5" stroke-width="3"/>
              </svg>
              <span>En cours</span>
            </div>
          } @else if (this.tournamentInformation?.status == 'Finished'){
            <div class="status success">
              <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle class="fill" cx="6.5" cy="6.5" r="3.5" fill="#FFBB37"/>
                <circle class="stroke" cx="6.5" cy="6.5" r="5" stroke="#FFBB37" stroke-opacity="0.5" stroke-width="3"/>
              </svg>
              <span>Terminé</span>
            </div>
          }

          <span>Participants : {{ this.tournamentInformation?.numberOfParticipants }} / {{ this.tournamentInformation?.maxParticipants }}</span>
        </div>
        <div class="description" style="gap: 8px;">
          <span class="title">Description</span>
          <span class="text">{{ this.tournamentInformation?.description }}</span>
        </div>
        <div class="date">
          <span class="title">Date de l'évènement</span>
          <div>
            <svg width="21" height="19" viewBox="0 0 21 19" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3.83008 18.9531C2.80794 18.9531 2.03971 18.6992 1.52539 18.1914C1.01758 17.6901 0.763672 16.9349 0.763672 15.9258V4.00195C0.763672 2.99284 1.01758 2.23763 1.52539 1.73633C2.03971 1.22852 2.80794 0.974609 3.83008 0.974609H17.1699C18.1921 0.974609 18.957 1.22852 19.4648 1.73633C19.9727 2.23763 20.2266 2.99284 20.2266 4.00195V15.9258C20.2266 16.9349 19.9727 17.6901 19.4648 18.1914C18.957 18.6992 18.1921 18.9531 17.1699 18.9531H3.83008ZM3.68359 17.3809H17.2969C17.7331 17.3809 18.0684 17.2637 18.3027 17.0293C18.5371 16.8014 18.6543 16.4629 18.6543 16.0137V6.80469C18.6543 6.35547 18.5371 6.01693 18.3027 5.78906C18.0684 5.55469 17.7331 5.4375 17.2969 5.4375H3.68359C3.25391 5.4375 2.92188 5.55469 2.6875 5.78906C2.45312 6.01693 2.33594 6.35547 2.33594 6.80469V16.0137C2.33594 16.4629 2.45312 16.8014 2.6875 17.0293C2.92188 17.2637 3.25391 17.3809 3.68359 17.3809ZM8.5957 8.95312C8.42643 8.95312 8.30599 8.92057 8.23438 8.85547C8.16927 8.79036 8.13672 8.67318 8.13672 8.50391V7.92773C8.13672 7.75846 8.16927 7.64453 8.23438 7.58594C8.30599 7.52083 8.42643 7.48828 8.5957 7.48828H9.17188C9.34115 7.48828 9.45833 7.52083 9.52344 7.58594C9.59505 7.64453 9.63086 7.75846 9.63086 7.92773V8.50391C9.63086 8.67318 9.59505 8.79036 9.52344 8.85547C9.45833 8.92057 9.34115 8.95312 9.17188 8.95312H8.5957ZM11.8379 8.95312C11.6686 8.95312 11.5514 8.92057 11.4863 8.85547C11.4212 8.79036 11.3887 8.67318 11.3887 8.50391V7.92773C11.3887 7.75846 11.4212 7.64453 11.4863 7.58594C11.5514 7.52083 11.6686 7.48828 11.8379 7.48828H12.4141C12.5898 7.48828 12.7103 7.52083 12.7754 7.58594C12.8405 7.64453 12.873 7.75846 12.873 7.92773V8.50391C12.873 8.67318 12.8405 8.79036 12.7754 8.85547C12.7103 8.92057 12.5898 8.95312 12.4141 8.95312H11.8379ZM15.0898 8.95312C14.9141 8.95312 14.7936 8.92057 14.7285 8.85547C14.6634 8.79036 14.6309 8.67318 14.6309 8.50391V7.92773C14.6309 7.75846 14.6634 7.64453 14.7285 7.58594C14.7936 7.52083 14.9141 7.48828 15.0898 7.48828H15.6562C15.832 7.48828 15.9525 7.52083 16.0176 7.58594C16.0827 7.64453 16.1152 7.75846 16.1152 7.92773V8.50391C16.1152 8.67318 16.0827 8.79036 16.0176 8.85547C15.9525 8.92057 15.832 8.95312 15.6562 8.95312H15.0898ZM5.35352 12.1465C5.17773 12.1465 5.05729 12.1139 4.99219 12.0488C4.92708 11.9837 4.89453 11.8665 4.89453 11.6973V11.1309C4.89453 10.9551 4.92708 10.8379 4.99219 10.7793C5.05729 10.7142 5.17773 10.6816 5.35352 10.6816H5.92969C6.09896 10.6816 6.21615 10.7142 6.28125 10.7793C6.34635 10.8379 6.37891 10.9551 6.37891 11.1309V11.6973C6.37891 11.8665 6.34635 11.9837 6.28125 12.0488C6.21615 12.1139 6.09896 12.1465 5.92969 12.1465H5.35352ZM8.5957 12.1465C8.42643 12.1465 8.30599 12.1139 8.23438 12.0488C8.16927 11.9837 8.13672 11.8665 8.13672 11.6973V11.1309C8.13672 10.9551 8.16927 10.8379 8.23438 10.7793C8.30599 10.7142 8.42643 10.6816 8.5957 10.6816H9.17188C9.34115 10.6816 9.45833 10.7142 9.52344 10.7793C9.59505 10.8379 9.63086 10.9551 9.63086 11.1309V11.6973C9.63086 11.8665 9.59505 11.9837 9.52344 12.0488C9.45833 12.1139 9.34115 12.1465 9.17188 12.1465H8.5957ZM11.8379 12.1465C11.6686 12.1465 11.5514 12.1139 11.4863 12.0488C11.4212 11.9837 11.3887 11.8665 11.3887 11.6973V11.1309C11.3887 10.9551 11.4212 10.8379 11.4863 10.7793C11.5514 10.7142 11.6686 10.6816 11.8379 10.6816H12.4141C12.5898 10.6816 12.7103 10.7142 12.7754 10.7793C12.8405 10.8379 12.873 10.9551 12.873 11.1309V11.6973C12.873 11.8665 12.8405 11.9837 12.7754 12.0488C12.7103 12.1139 12.5898 12.1465 12.4141 12.1465H11.8379ZM15.0898 12.1465C14.9141 12.1465 14.7936 12.1139 14.7285 12.0488C14.6634 11.9837 14.6309 11.8665 14.6309 11.6973V11.1309C14.6309 10.9551 14.6634 10.8379 14.7285 10.7793C14.7936 10.7142 14.9141 10.6816 15.0898 10.6816H15.6562C15.832 10.6816 15.9525 10.7142 16.0176 10.7793C16.0827 10.8379 16.1152 10.9551 16.1152 11.1309V11.6973C16.1152 11.8665 16.0827 11.9837 16.0176 12.0488C15.9525 12.1139 15.832 12.1465 15.6562 12.1465H15.0898ZM5.35352 15.3398C5.17773 15.3398 5.05729 15.3105 4.99219 15.252C4.92708 15.1868 4.89453 15.0664 4.89453 14.8906V14.3242C4.89453 14.1484 4.92708 14.0312 4.99219 13.9727C5.05729 13.9076 5.17773 13.875 5.35352 13.875H5.92969C6.09896 13.875 6.21615 13.9076 6.28125 13.9727C6.34635 14.0312 6.37891 14.1484 6.37891 14.3242V14.8906C6.37891 15.0664 6.34635 15.1868 6.28125 15.252C6.21615 15.3105 6.09896 15.3398 5.92969 15.3398H5.35352ZM8.5957 15.3398C8.42643 15.3398 8.30599 15.3105 8.23438 15.252C8.16927 15.1868 8.13672 15.0664 8.13672 14.8906V14.3242C8.13672 14.1484 8.16927 14.0312 8.23438 13.9727C8.30599 13.9076 8.42643 13.875 8.5957 13.875H9.17188C9.34115 13.875 9.45833 13.9076 9.52344 13.9727C9.59505 14.0312 9.63086 14.1484 9.63086 14.3242V14.8906C9.63086 15.0664 9.59505 15.1868 9.52344 15.252C9.45833 15.3105 9.34115 15.3398 9.17188 15.3398H8.5957ZM11.8379 15.3398C11.6686 15.3398 11.5514 15.3105 11.4863 15.252C11.4212 15.1868 11.3887 15.0664 11.3887 14.8906V14.3242C11.3887 14.1484 11.4212 14.0312 11.4863 13.9727C11.5514 13.9076 11.6686 13.875 11.8379 13.875H12.4141C12.5898 13.875 12.7103 13.9076 12.7754 13.9727C12.8405 14.0312 12.873 14.1484 12.873 14.3242V14.8906C12.873 15.0664 12.8405 15.1868 12.7754 15.252C12.7103 15.3105 12.5898 15.3398 12.4141 15.3398H11.8379Z" fill="#707070"/>
            </svg>
            <span>Du {{ this.tournamentInformation?.startDate | date: 'd MMM yyyy, HH\'h\'mm' }} Au {{ this.tournamentInformation?.endDate | date: 'd MMM yyyy, HH\'h\'mm' }}</span>
          </div>
        </div>
        <div class="organisation">
          <span class="title">Organisation</span>
          @if (this.matchInformation.length <= 0){
            <span>Aucun match pour le moment</span>
          }
          <div class="matchs">
            @for (match of this.matchInformation; track match.id){
              <div class="match">
                <i class="circle"></i>
                <span class="title">{{ match.player1.username }} VS {{ match.player2.username }}</span>
                <span class="date">Le {{ match.matchDate | date:'d MMM yyyy à HH\'h\'mm' }}</span>
                <button (click)="this.togglePopupResultMatch(match.id)">
                  Voir le résultat
                  <svg width="12" height="11" viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.8906 5.41699C11.8906 5.5778 11.8271 5.71956 11.7002 5.84229L7.479 10.0508C7.35628 10.1693 7.21875 10.2285 7.06641 10.2285C6.90983 10.2285 6.77865 10.1756 6.67285 10.0698C6.56706 9.96826 6.51416 9.83919 6.51416 9.68262C6.51416 9.60645 6.52686 9.53451 6.55225 9.4668C6.57764 9.39486 6.61572 9.3335 6.6665 9.28271L8.08838 7.83545L10.6084 5.54395L10.7354 5.85498L8.69141 5.98193H0.661621C0.496582 5.98193 0.361165 5.92904 0.255371 5.82324C0.153809 5.71745 0.103027 5.58203 0.103027 5.41699C0.103027 5.25195 0.153809 5.11654 0.255371 5.01074C0.361165 4.90495 0.496582 4.85205 0.661621 4.85205H8.69141L10.7354 4.979L10.6084 5.29639L8.08838 2.99854L6.6665 1.55127C6.61572 1.50049 6.57764 1.44124 6.55225 1.37354C6.52686 1.3016 6.51416 1.22754 6.51416 1.15137C6.51416 0.994792 6.56706 0.865723 6.67285 0.76416C6.77865 0.658366 6.90983 0.605469 7.06641 0.605469C7.14258 0.605469 7.21452 0.62028 7.28223 0.649902C7.35417 0.679525 7.42399 0.72819 7.4917 0.795898L11.7002 4.9917C11.8271 5.11442 11.8906 5.25618 11.8906 5.41699Z" fill="black"/>
                  </svg>
                </button>
              </div>
            }
          </div>
        </div>
      </div>
      <div style="display: flex; flex-direction: row;justify-content: center;align-items: center; gap: 8px; width: 100%;">
        @if (this.tournamentInformation?.isUserRegistered == 'registered') {
          <button style="pointer-events: none" type="button" class="primaryButtonAccent security">
            Déjà inscrit
          </button>
        } @else if (this.tournamentInformation?.isUserRegistered == 'pending') {
          <button style="pointer-events: none" type="button" class="primaryButtonAccent security">
            En attente d'acceptation
          </button>
        } @else {
          <button (click)="this.registerOfTournament()" type="button" class="primaryButtonAccent security">
            @if (this.isLoadingRegisterTournament){
              <app-loader [size]="25" [sizeStroke]="3"></app-loader>
            }
            S'inscrire
          </button>
        }

        @if (this.isTournament() || (this.userInformation && this.userInformation.roles[0] == 'ROLE_ADMIN')){
          <button (click)="this.togglePopupAddMatch()" type="button" class="primaryButtonAccent">
            Ajouter un match
          </button>
        }
      </div>
    </div>
  </div>
</div>

<!-- Popup pour les résultats des matchs -->
<div class="contain popup" [ngClass]="{'actived' : this.statusPopupResult}">
  <form [formGroup]="this.resultMatchForm" (ngSubmit)="this.onSubmitResultMatch()" class="card" style="width: 400px; gap: 32px;padding: 40px;">
    <div class="text">
      <span class="title">Résultat</span>
      <span>Voici les résultats d'un match. Vous retrouverez les résultats pour les deux joueurs en détailles.</span>
    </div>
    <div class="inputsContainer" style="gap: 16px">
      <div class="inputElement" [ngClass]="{'blocked' : !(this.isTournament() || (this.userInformation && this.userInformation.roles[0] == 'ROLE_ADMIN')),'errorActived': !this.resultMatchForm.get('scorePlayer1')?.valid && this.resultMatchForm.get('scorePlayer1')?.touched}">
        <div class="labelZone">
          <label for="scorePlayer1">Score joueur n°1</label>
        </div>
        <div class="inputZone">
          <input [tabindex]="(this.isTournament() || (this.userInformation && this.userInformation.roles[0] == 'ROLE_ADMIN')) ? 1 : -1" type="number" id="scorePlayer1" formControlName="scorePlayer1">
        </div>
        <div class="errorMessage">
          <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
          </svg>
          <span>{{ this.getErrorMessageOfValidatorResultMatch('scorePlayer1') }}</span>
        </div>
      </div>
      <div class="inputElement" [ngClass]="{'blocked' : !(this.isTournament() || (this.userInformation && this.userInformation.roles[0] == 'ROLE_ADMIN')),'errorActived': !this.resultMatchForm.get('scorePlayer2')?.valid && this.resultMatchForm.get('scorePlayer2')?.touched}">
        <div class="labelZone">
          <label for="scorePlayer2">Score joueur n°2</label>
        </div>
        <div class="inputZone">
          <input [tabindex]="(this.isTournament() || (this.userInformation && this.userInformation.roles[0] == 'ROLE_ADMIN')) ? 2 : -1" type="number" id="scorePlayer2" formControlName="scorePlayer2">
        </div>
        <div class="errorMessage">
          <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
          </svg>
          <span>{{ this.getErrorMessageOfValidatorResultMatch('scorePlayer2') }}</span>
        </div>
      </div>
    </div>
    @if (this.isTournament() || (this.userInformation && this.userInformation.roles[0] == 'ROLE_ADMIN')){
      <button type="submit" tabindex="3" [disabled]="this.resultMatchForm.invalid" class="primaryButtonAccent">
        @if (this.isLoadingResultMatch){
          <app-loader [size]="25" [sizeStroke]="3"></app-loader>
        }
        Enregistrer
      </button>
    }

    <button tabindex="-1" type="button" (click)="this.togglePopupResultMatch()" class="closeIconButton">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.921875 13.4453C0.791667 13.3151 0.705729 13.1641 0.664062 12.9922C0.622396 12.8203 0.622396 12.6484 0.664062 12.4766C0.705729 12.3047 0.789062 12.1562 0.914062 12.0312L5.57031 7.36719L0.914062 2.71094C0.789062 2.59115 0.705729 2.44531 0.664062 2.27344C0.627604 2.09635 0.627604 1.92188 0.664062 1.75C0.705729 1.57812 0.791667 1.42708 0.921875 1.29688C1.04688 1.16667 1.19531 1.08073 1.36719 1.03906C1.54427 0.997396 1.71875 0.997396 1.89062 1.03906C2.06771 1.08073 2.21875 1.16406 2.34375 1.28906L7 5.94531L11.6562 1.28906C11.7812 1.16406 11.9297 1.08073 12.1016 1.03906C12.2734 0.997396 12.4453 0.997396 12.6172 1.03906C12.7891 1.08073 12.9401 1.16927 13.0703 1.30469C13.2005 1.42969 13.2865 1.57812 13.3281 1.75C13.375 1.92188 13.375 2.09375 13.3281 2.26562C13.2865 2.4375 13.2031 2.58594 13.0781 2.71094L8.42969 7.36719L13.0781 12.0312C13.2031 12.1562 13.2865 12.3047 13.3281 12.4766C13.3698 12.6484 13.3698 12.8203 13.3281 12.9922C13.2865 13.1641 13.2005 13.3151 13.0703 13.4453C12.9401 13.5755 12.7891 13.6615 12.6172 13.7031C12.4453 13.7448 12.2734 13.7448 12.1016 13.7031C11.9297 13.6615 11.7812 13.5781 11.6562 13.4531L7 8.79688L2.34375 13.4531C2.21875 13.5781 2.07031 13.6615 1.89844 13.7031C1.72656 13.7448 1.55208 13.7448 1.375 13.7031C1.20312 13.6615 1.05208 13.5755 0.921875 13.4453Z" fill="black"/>
      </svg>
    </button>
  </form>
</div>

<!-- Popup pour l'ajout d'un match -->
<div class="contain popup" [ngClass]="{'actived' : this.statusPopupAddMatch}">
  <form [formGroup]="this.addMatchForm" (ngSubmit)="this.onSubmitAddMatch()" class="card" style="width: 450px; gap: 40px;padding: 64px; justify-content: flex-start; align-items: flex-start">
    <span>Ajouter un match</span>
    <div class="inputsContainer" style="gap: 16px">
      <div class="inputElement" [ngClass]="{'errorActived': !this.addMatchForm.get('date')?.valid && this.addMatchForm.get('date')?.touched}">
        <div class="labelZone">
          <label for="date">Date du match</label>
        </div>
        <div class="inputZone">
          <input tabindex="1" type="date" id="date" formControlName="date" [min]="this.getStartDate()" [max]="this.getEndDate()">
        </div>
        <div class="errorMessage">
          <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
          </svg>
          <span>{{ this.getErrorMessageOfValidatorAddMatch('date') }}</span>
        </div>
      </div>
      <div class="inputElement" [ngClass]="{'errorActived': !this.addMatchForm.get('player1')?.valid && this.addMatchForm.get('player1')?.touched}">
        <div class="labelZone">
          <label for="player1">Participant 1</label>
        </div>
        <div class="inputZone">
          <input tabindex="2" type="number" id="player1" formControlName="player1">
        </div>
        <div class="errorMessage">
          <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
          </svg>
          <span>{{ this.getErrorMessageOfValidatorAddMatch('player1') }}</span>
        </div>
      </div>
      <div class="inputElement" [ngClass]="{'errorActived': !this.addMatchForm.get('player2')?.valid && this.addMatchForm.get('player2')?.touched}">
        <div class="labelZone">
          <label for="player2">Participant 2</label>
        </div>
        <div class="inputZone">
          <input tabindex="3" type="number" id="player2" formControlName="player2">
        </div>
        <div class="errorMessage">
          <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
          </svg>
          <span>{{ this.getErrorMessageOfValidatorAddMatch('player2') }}</span>
        </div>
      </div>
    </div>
    <button type="submit" tabindex="4" [disabled]="this.addMatchForm.invalid" class="primaryButtonAccent">
      @if (this.isLoadingAddMatch){
        <app-loader [size]="25" [sizeStroke]="3"></app-loader>
      }
      Ajouter
    </button>

    <button tabindex="-1" type="button" (click)="this.togglePopupAddMatch()" class="closeIconButton">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.921875 13.4453C0.791667 13.3151 0.705729 13.1641 0.664062 12.9922C0.622396 12.8203 0.622396 12.6484 0.664062 12.4766C0.705729 12.3047 0.789062 12.1562 0.914062 12.0312L5.57031 7.36719L0.914062 2.71094C0.789062 2.59115 0.705729 2.44531 0.664062 2.27344C0.627604 2.09635 0.627604 1.92188 0.664062 1.75C0.705729 1.57812 0.791667 1.42708 0.921875 1.29688C1.04688 1.16667 1.19531 1.08073 1.36719 1.03906C1.54427 0.997396 1.71875 0.997396 1.89062 1.03906C2.06771 1.08073 2.21875 1.16406 2.34375 1.28906L7 5.94531L11.6562 1.28906C11.7812 1.16406 11.9297 1.08073 12.1016 1.03906C12.2734 0.997396 12.4453 0.997396 12.6172 1.03906C12.7891 1.08073 12.9401 1.16927 13.0703 1.30469C13.2005 1.42969 13.2865 1.57812 13.3281 1.75C13.375 1.92188 13.375 2.09375 13.3281 2.26562C13.2865 2.4375 13.2031 2.58594 13.0781 2.71094L8.42969 7.36719L13.0781 12.0312C13.2031 12.1562 13.2865 12.3047 13.3281 12.4766C13.3698 12.6484 13.3698 12.8203 13.3281 12.9922C13.2865 13.1641 13.2005 13.3151 13.0703 13.4453C12.9401 13.5755 12.7891 13.6615 12.6172 13.7031C12.4453 13.7448 12.2734 13.7448 12.1016 13.7031C11.9297 13.6615 11.7812 13.5781 11.6562 13.4531L7 8.79688L2.34375 13.4531C2.21875 13.5781 2.07031 13.6615 1.89844 13.7031C1.72656 13.7448 1.55208 13.7448 1.375 13.7031C1.20312 13.6615 1.05208 13.5755 0.921875 13.4453Z" fill="black"/>
      </svg>
    </button>
  </form>
</div>
