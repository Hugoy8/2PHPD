<div class="contain" [ngClass]="{'actived' : this.statusPopup}">
  <form [formGroup]="this.modifyForm" (ngSubmit)="this.onSubmitModify()" class="card">
    <span>
      @if (this.typePopup === 'modifyUser') {
        Modifier votre profil
      } @else if (this.typePopup === 'addUser') {
        Crée un nouvel utilisateur
      } @else if (this.typePopup === 'modifyPassword') {
        Sécurité de votre compte
      } @else if (this.typePopup === 'deleteUser') {
        Supprimer cette utilisateur
      }
    </span>
    <div class="inputsContainer">
      @if (this.typePopup === 'modifyUser') {
        <div style="width: 100%;display: flex;flex-direction: row; justify-content: center;align-items: center;gap: 24px">
          <div class="inputElement" [ngClass]="{'errorActived': !this.modifyForm.get('firstName')?.valid && this.modifyForm.get('firstName')?.touched}">
            <div class="labelZone">
              <label for="firstName">Prénom</label>
            </div>
            <div class="inputZone">
              <input tabindex="1" type="text" id="firstName" formControlName="firstName">
            </div>
            <div class="errorMessage">
              <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
              </svg>
              <span>{{ this.getErrorMessageOfValidatorForModifyForm('firstName') }}</span>
            </div>
          </div>

          <div class="inputElement" [ngClass]="{'errorActived': !this.modifyForm.get('lastName')?.valid && this.modifyForm.get('lastName')?.touched}">
            <div class="labelZone">
              <label for="lastName">Nom de famille</label>
            </div>
            <div class="inputZone">
              <input tabindex="2" type="text" id="lastName" formControlName="lastName">
            </div>
            <div class="errorMessage">
              <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
              </svg>
              <span>{{ this.getErrorMessageOfValidatorForModifyForm('lastName') }}</span>
            </div>
          </div>
        </div>
        <div class="inputElement" [ngClass]="{'errorActived': !this.modifyForm.get('pseudo')?.valid && this.modifyForm.get('pseudo')?.touched}">
          <div class="labelZone">
            <label for="pseudo">Pseudo</label>
          </div>
          <div class="inputZone">
            <input tabindex="3" type="text" id="pseudo" formControlName="pseudo">
          </div>
          <div class="errorMessage">
            <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
            </svg>
            <span>{{ this.getErrorMessageOfValidatorForModifyForm('pseudo') }}</span>
          </div>
        </div>
        <div class="inputElement" [ngClass]="{'errorActived': !this.modifyForm.get('email')?.valid && this.modifyForm.get('email')?.touched}">
          <div class="labelZone">
            <label for="email">Email</label>
          </div>
          <div class="inputZone">
            <input tabindex="1" id="email" type="text" formControlName="email" forceLowercase>
          </div>
          <div class="errorMessage">
            <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
            </svg>
            <span>{{ getErrorMessageOfValidatorForModifyForm('email') }}</span>
          </div>
        </div>
      } @else if (this.typePopup === 'addUser') {

      } @else if (this.typePopup === 'modifyPassword') {
        <div class="inputElement" [ngClass]="{'errorActived': !this.modifyForm.get('password')?.valid && this.modifyForm.get('password')?.touched}">
          <div class="labelZone">
            <label for="password">Nouveau Mot de passe</label>
          </div>
          <div class="inputZone">
            <input tabindex="5" [type]="inputPasswordType" id="password" formControlName="password">
            @if (this.statutViewPassword){
              <svg (click)="this.toggleViewPassword()" class="icon" width="17" height="11" viewBox="0 0 17 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.0586 10.9673L3.25586 1.17624C3.08594 1.00632 3.08594 0.707489 3.25586 0.537567C3.4375 0.361786 3.72461 0.361786 3.90039 0.537567L13.6973 10.3286C13.873 10.5102 13.8906 10.7739 13.6973 10.9673C13.5156 11.1606 13.2344 11.1489 13.0586 10.9673ZM13.6094 9.2739L11.5 7.14108C11.6758 6.76608 11.7754 6.33835 11.7754 5.89304C11.7754 4.06491 10.3105 2.62936 8.5 2.62936C8.04883 2.62936 7.62695 2.72311 7.24023 2.88718L5.7168 1.36374C6.56641 1.08249 7.50391 0.912567 8.5 0.912567C13.1875 0.912567 16.4395 4.70358 16.4395 5.89304C16.4395 6.5903 15.3203 8.14304 13.6094 9.2739ZM8.5 10.8735C3.86523 10.8735 0.554688 7.07663 0.554688 5.89304C0.554688 5.18991 1.70898 3.56686 3.55469 2.41257L5.55859 4.42819C5.3418 4.86765 5.21875 5.36569 5.21875 5.89304C5.22461 7.67429 6.67188 9.15671 8.5 9.15671C9.01562 9.15671 9.50781 9.03366 9.94141 8.811L11.4766 10.3462C10.5918 10.6743 9.58398 10.8735 8.5 10.8735ZM10.3633 5.76999C10.3633 5.84616 10.3574 5.92819 10.3516 5.9985L8.27734 3.92429C8.34766 3.91843 8.42383 3.91257 8.5 3.91257C9.53711 3.91257 10.3633 4.7446 10.3633 5.76999ZM6.63086 5.75827C6.63086 5.67624 6.63672 5.58835 6.64258 5.50632L8.74609 7.60983C8.66406 7.61569 8.58789 7.62155 8.50586 7.62155C7.48047 7.62155 6.63086 6.78952 6.63086 5.75827Z" fill="#DDDDDD"/>
              </svg>
            } @else {
              <svg (click)="this.toggleViewPassword()" class="icon" width="17" height="11" viewBox="0 0 17 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.5 10.8735C3.86523 10.8735 0.554688 7.07663 0.554688 5.89304C0.554688 4.70358 3.86523 0.912567 8.5 0.912567C13.1875 0.912567 16.4395 4.70358 16.4395 5.89304C16.4395 7.07663 13.1934 10.8735 8.5 10.8735ZM8.5 9.15671C10.3105 9.15671 11.7754 7.67429 11.7754 5.89304C11.7754 4.06491 10.3105 2.62936 8.5 2.62936C6.67188 2.62936 5.21875 4.06491 5.21875 5.89304C5.21875 7.67429 6.67188 9.15671 8.5 9.15671ZM8.5 7.07077C7.84375 7.07077 7.30469 6.53757 7.30469 5.89304C7.30469 5.24265 7.84375 4.70944 8.5 4.70944C9.15039 4.70944 9.68945 5.24265 9.68945 5.89304C9.68945 6.53757 9.15039 7.07077 8.5 7.07077Z" fill="#DDDDDD"/>
              </svg>
            }
          </div>
          <div class="errorMessage">
            <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
            </svg>
            <span>{{ this.getErrorMessageOfValidatorForModifyForm('password') }}</span>
          </div>
        </div>
        <div class="inputElement" [ngClass]="{'errorActived': !this.modifyForm.get('confirmPassword')?.valid && this.modifyForm.get('confirmPassword')?.touched}">
          <div class="labelZone">
            <label for="confirmPassword">Confirmation du nouveau mot de passe</label>
          </div>
          <div class="inputZone">
            <input tabindex="6" [type]="inputConfirmPasswordType" id="confirmPassword" formControlName="confirmPassword">
            @if (this.statutViewConfirmPassword){
              <svg (click)="this.toggleViewConfirmPassword()" class="icon" width="17" height="11" viewBox="0 0 17 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.0586 10.9673L3.25586 1.17624C3.08594 1.00632 3.08594 0.707489 3.25586 0.537567C3.4375 0.361786 3.72461 0.361786 3.90039 0.537567L13.6973 10.3286C13.873 10.5102 13.8906 10.7739 13.6973 10.9673C13.5156 11.1606 13.2344 11.1489 13.0586 10.9673ZM13.6094 9.2739L11.5 7.14108C11.6758 6.76608 11.7754 6.33835 11.7754 5.89304C11.7754 4.06491 10.3105 2.62936 8.5 2.62936C8.04883 2.62936 7.62695 2.72311 7.24023 2.88718L5.7168 1.36374C6.56641 1.08249 7.50391 0.912567 8.5 0.912567C13.1875 0.912567 16.4395 4.70358 16.4395 5.89304C16.4395 6.5903 15.3203 8.14304 13.6094 9.2739ZM8.5 10.8735C3.86523 10.8735 0.554688 7.07663 0.554688 5.89304C0.554688 5.18991 1.70898 3.56686 3.55469 2.41257L5.55859 4.42819C5.3418 4.86765 5.21875 5.36569 5.21875 5.89304C5.22461 7.67429 6.67188 9.15671 8.5 9.15671C9.01562 9.15671 9.50781 9.03366 9.94141 8.811L11.4766 10.3462C10.5918 10.6743 9.58398 10.8735 8.5 10.8735ZM10.3633 5.76999C10.3633 5.84616 10.3574 5.92819 10.3516 5.9985L8.27734 3.92429C8.34766 3.91843 8.42383 3.91257 8.5 3.91257C9.53711 3.91257 10.3633 4.7446 10.3633 5.76999ZM6.63086 5.75827C6.63086 5.67624 6.63672 5.58835 6.64258 5.50632L8.74609 7.60983C8.66406 7.61569 8.58789 7.62155 8.50586 7.62155C7.48047 7.62155 6.63086 6.78952 6.63086 5.75827Z" fill="#DDDDDD"/>
              </svg>
            } @else {
              <svg (click)="this.toggleViewConfirmPassword()" class="icon" width="17" height="11" viewBox="0 0 17 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.5 10.8735C3.86523 10.8735 0.554688 7.07663 0.554688 5.89304C0.554688 4.70358 3.86523 0.912567 8.5 0.912567C13.1875 0.912567 16.4395 4.70358 16.4395 5.89304C16.4395 7.07663 13.1934 10.8735 8.5 10.8735ZM8.5 9.15671C10.3105 9.15671 11.7754 7.67429 11.7754 5.89304C11.7754 4.06491 10.3105 2.62936 8.5 2.62936C6.67188 2.62936 5.21875 4.06491 5.21875 5.89304C5.21875 7.67429 6.67188 9.15671 8.5 9.15671ZM8.5 7.07077C7.84375 7.07077 7.30469 6.53757 7.30469 5.89304C7.30469 5.24265 7.84375 4.70944 8.5 4.70944C9.15039 4.70944 9.68945 5.24265 9.68945 5.89304C9.68945 6.53757 9.15039 7.07077 8.5 7.07077Z" fill="#DDDDDD"/>
              </svg>
            }
          </div>
          <div class="errorMessage">
            <svg width="16" height="16" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.95898 11.3066C0.962891 11.3066 0.359375 10.6152 0.359375 9.71875C0.359375 9.44336 0.429688 9.16211 0.587891 8.89844L5.13477 0.976562C5.43359 0.443359 5.96094 0.173828 6.5 0.173828C7.03906 0.173828 7.56055 0.443359 7.86523 0.976562L12.4121 8.89844C12.5586 9.15625 12.6406 9.44336 12.6406 9.71875C12.6406 10.6152 12.0371 11.3066 11.041 11.3066H1.95898ZM6.50586 7.39258C6.79297 7.39258 6.96289 7.22266 6.96875 6.90625L7.05664 3.72461C7.0625 3.41406 6.81641 3.18555 6.5 3.18555C6.17188 3.18555 5.94336 3.4082 5.94922 3.71875L6.02539 6.90625C6.03125 7.2168 6.20117 7.39258 6.50586 7.39258ZM6.50586 9.35547C6.85156 9.35547 7.15625 9.08008 7.15625 8.72852C7.15625 8.37109 6.85742 8.0957 6.50586 8.0957C6.14844 8.0957 5.84961 8.37695 5.84961 8.72852C5.84961 9.07422 6.1543 9.35547 6.50586 9.35547Z" fill="#FF1000"/>
            </svg>
            <span>{{ this.getErrorMessageOfValidatorForModifyForm('confirmPassword') }}</span>
          </div>
        </div>
      } @else if (this.typePopup === 'deleteUser') {

      }
    </div>
    <button tabindex="3" type="submit" [disabled]="this.modifyForm.invalid" class="primaryButtonAccent">
      @if (this.isLoadingModifyForm){
        <app-loader [size]="25" [sizeStroke]="3"></app-loader>
      }
      Enregistrer
    </button>

    <button tabindex="-1" type="button" (click)="this.closePopup()" class="closeIconButton">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.921875 13.4453C0.791667 13.3151 0.705729 13.1641 0.664062 12.9922C0.622396 12.8203 0.622396 12.6484 0.664062 12.4766C0.705729 12.3047 0.789062 12.1562 0.914062 12.0312L5.57031 7.36719L0.914062 2.71094C0.789062 2.59115 0.705729 2.44531 0.664062 2.27344C0.627604 2.09635 0.627604 1.92188 0.664062 1.75C0.705729 1.57812 0.791667 1.42708 0.921875 1.29688C1.04688 1.16667 1.19531 1.08073 1.36719 1.03906C1.54427 0.997396 1.71875 0.997396 1.89062 1.03906C2.06771 1.08073 2.21875 1.16406 2.34375 1.28906L7 5.94531L11.6562 1.28906C11.7812 1.16406 11.9297 1.08073 12.1016 1.03906C12.2734 0.997396 12.4453 0.997396 12.6172 1.03906C12.7891 1.08073 12.9401 1.16927 13.0703 1.30469C13.2005 1.42969 13.2865 1.57812 13.3281 1.75C13.375 1.92188 13.375 2.09375 13.3281 2.26562C13.2865 2.4375 13.2031 2.58594 13.0781 2.71094L8.42969 7.36719L13.0781 12.0312C13.2031 12.1562 13.2865 12.3047 13.3281 12.4766C13.3698 12.6484 13.3698 12.8203 13.3281 12.9922C13.2865 13.1641 13.2005 13.3151 13.0703 13.4453C12.9401 13.5755 12.7891 13.6615 12.6172 13.7031C12.4453 13.7448 12.2734 13.7448 12.1016 13.7031C11.9297 13.6615 11.7812 13.5781 11.6562 13.4531L7 8.79688L2.34375 13.4531C2.21875 13.5781 2.07031 13.6615 1.89844 13.7031C1.72656 13.7448 1.55208 13.7448 1.375 13.7031C1.20312 13.6615 1.05208 13.5755 0.921875 13.4453Z" fill="black"/>
      </svg>
    </button>
  </form>
</div>
